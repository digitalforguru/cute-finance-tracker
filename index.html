<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Finance Tracker Widget</title>

<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, "San Francisco", sans-serif;
  display: flex;
  justify-content: center;
  padding: 20px;
  background: transparent;
}

.widget {
  width: 260px;
  padding: 20px;
  border-radius: 22px;
  background: #d6f8e0;
  box-shadow: 0px 8px 20px rgba(0,0,0,0.08);
  position: relative;
  overflow: hidden;
}

.widget h2 {
  font-size: 18px;
  margin-bottom: 12px;
  text-align: center;
}

.balance {
  font-size: 16px;
  font-weight: 600;
  text-align: center;
  margin-bottom: 12px;
}

.divider {
  height: 1px;
  background: rgba(0,0,0,0.1);
  margin: 10px 0;
}

.row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
}

.row input, .row select {
  width: 60%;
  padding: 6px 8px;
  border-radius: 10px;
  border: 1px solid rgba(0,0,0,0.2);
  font-size: 14px;
}

.row button {
  width: 35%;
  background: #ffe0b2;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  font-size: 14px;
  transition: transform 0.2s;
}

.row button:hover {
  transform: scale(1.05);
}

.category-bars {
  margin-top: 10px;
}

.category {
  display: flex;
  justify-content: space-between;
  margin-bottom: 6px;
}

.bar {
  height: 8px;
  border-radius: 6px;
  background: #76c7c0;
  flex: 1;
  margin-left: 6px;
}

.finance-quote {
  font-size: 12px;
  font-style: italic;
  text-align: center;
  margin-top: 10px;
  opacity: 0.8;
}
</style>
</head>

<body>
<div class="widget">
  <h2>Finance Tracker ðŸ’°</h2>
  <div class="balance" id="balance">$0.00</div>
  <div class="divider"></div>

  <!-- Income row -->
  <div class="row">
    <input type="number" id="incomeInput" placeholder="Income $">
    <button id="addIncome">Add</button>
  </div>

  <!-- Expense row -->
  <div class="row">
    <input type="number" id="expenseInput" placeholder="Expense $">
    <select id="expenseCategory">
      <option value="Self Care">Self Care</option>
      <option value="Food">Food</option>
      <option value="Bills">Bills</option>
      <option value="Entertainment">Entertainment</option>
      <option value="Other">Other</option>
    </select>
    <button id="addExpense">Add</button>
  </div>

  <div class="divider"></div>

  <div class="category-bars" id="categoryBars"></div>

  <div class="finance-quote" id="financeQuote">Small savings become big gains âœ¨</div>
</div>

<script>
let balance = 0;
const balanceEl = document.getElementById("balance");
const incomeInput = document.getElementById("incomeInput");
const expenseInput = document.getElementById("expenseInput");
const expenseCategory = document.getElementById("expenseCategory");
const addIncome = document.getElementById("addIncome");
const addExpense = document.getElementById("addExpense");
const categoryBars = document.getElementById("categoryBars");
const financeQuote = document.getElementById("financeQuote");

const quotes = [
  "Small savings become big gains âœ¨",
  "Track a little, gain a lot ðŸŒ±",
  "Every coin counts ðŸ’°",
  "Mindful spending, happy life ðŸŒ¸",
  "Your future self thanks you ðŸ¢"
];

const expenses = {}; // {category: amount}

// ------------------- FUNCTIONS -------------------
function updateBalance() {
  balanceEl.textContent = `$${balance.toFixed(2)}`;
  renderCategories();
}

function renderCategories() {
  categoryBars.innerHTML = '';
  const totalExpense = Object.values(expenses).reduce((a,b)=>a+b,0) || 1;
  Object.keys(expenses).forEach(cat => {
    const row = document.createElement('div');
    row.className = 'category';
    const pct = Math.min((expenses[cat]/totalExpense)*100, 100);
    row.innerHTML = `<span>${cat}</span><div class="bar" style="width:${pct}%"></div>`;
    categoryBars.appendChild(row);
  });
}

// ------------------- EVENT LISTENERS -------------------
addIncome.addEventListener('click', () => {
  const val = parseFloat(incomeInput.value) || 0;
  balance += val;
  incomeInput.value = '';
  updateBalance();
});

addExpense.addEventListener('click', () => {
  const val = parseFloat(expenseInput.value) || 0;
  const cat = expenseCategory.value;
  if(val <= 0) return;
  balance -= val;
  expenses[cat] = (expenses[cat] || 0) + val;
  expenseInput.value = '';
  updateBalance();
});

// ------------------- RANDOM QUOTE -------------------
financeQuote.textContent = quotes[Math.floor(Math.random() * quotes.length)];

updateBalance();
</script>
</body>
</html>
